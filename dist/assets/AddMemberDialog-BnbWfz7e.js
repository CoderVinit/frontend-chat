import{u as S,r as y,c as C,aE as D,j as e,S as n,n as E,aL as k,a0 as v}from"./index-BRYrtOYy.js";import{U as F}from"./UserItems-m5sG-z-p.js";import{b as w,a as H}from"./Delete-BT8gj__Z.js";import{D as L,a as T}from"./DialogTitle-on2HWKW6.js";import{T as B}from"./Modal-CADgA5Of.js";import{B as c}from"./Button-CgSTDiwQ.js";import"./Features-VHPfM-O5.js";import"./ListItem-B4dopy2O.js";import"./Menu-Cy-i2GGQ.js";import"./isMuiElement-DvTSXCug.js";const K=({chatId:o})=>{var d,l;const m=S(),[a,p]=y.useState([]),{isAddMember:b}=C(s=>s.misc),[u,x]=w(k),{isLoading:h,data:r,error:j,isError:M}=D(o),g=s=>{p(t=>t.includes(s)?t.filter(f=>f!==s):[...t,s])},i=()=>{m(v(!1))},A=()=>{u("Adding members...",{chatId:o,members:a}),i()};return H([{isError:M,error:j}]),e.jsx(L,{open:b,onClose:i,children:e.jsxs(n,{width:"20rem",p:"2rem",spacing:"1rem",children:[e.jsx(T,{textAlign:"center",children:"Add Members"}),e.jsx(n,{spacing:"1rem",children:h?e.jsx(E,{}):((d=r==null?void 0:r.availableFriends)==null?void 0:d.length)>0?(l=r==null?void 0:r.availableFriends)==null?void 0:l.map(s=>e.jsx(F,{user:s,isAdded:a.includes(s._id),handler:g},s._id)):e.jsx(B,{textAlign:"center",children:"No Friends"})}),e.jsxs(n,{direction:"row",justifyContent:"space-between",children:[e.jsx(c,{color:"error",onClick:i,children:"Cancel"}),e.jsx(c,{variant:"contained",onClick:A,disabled:x,children:"Submit"})]})]})})};export{K as default};
