import{u as w,c as y,aE as C,r as M,j as e,S as i,n as N,aF as S,_ as m,F as E}from"./index-BRYrtOYy.js";import{U as T}from"./UserItems-m5sG-z-p.js";import{u as k}from"./index-DdwGzNOV.js";import{b as A,a as D}from"./Delete-BT8gj__Z.js";import{D as F,a as H}from"./DialogTitle-on2HWKW6.js";import{T as _}from"./TextField-CUotFnna.js";import{T as I}from"./Modal-CADgA5Of.js";import{B as c}from"./Button-CgSTDiwQ.js";import"./Features-VHPfM-O5.js";import"./ListItem-B4dopy2O.js";import"./Menu-Cy-i2GGQ.js";import"./isMuiElement-DvTSXCug.js";const X=()=>{var l;const u=w(),{isNewGroup:d}=y(r=>r.misc),{isError:p,isLoading:x,error:h,data:o}=C(),[f,j]=A(S),[t,b]=M.useState([]),s=k("");D([{isError:p,error:h}]);const g=r=>{b(n=>n.includes(r)?n.filter(G=>G!==r):[...n,r])},v=()=>{if(!s.value)return m.error("Group name is required!");if(t.length<2)return m.error("Group must have minimum 3 members");f("Creating a new Group...",{name:s==null?void 0:s.value,members:t}),a()},a=()=>{u(E(!1))};return e.jsx(F,{open:d,onClose:a,children:e.jsxs(i,{p:{xs:"1rem",sm:"3rem"},width:"25rem",spacing:"2rem",children:[e.jsx(H,{textAlign:"center",variant:"h4",children:"New Group"}),e.jsx(_,{label:"Group Name",value:s.value,onChange:s.changeHandler}),e.jsx(I,{variant:"body1",children:"Members"}),e.jsx(i,{children:x?e.jsx(N,{}):(l=o==null?void 0:o.friends)==null?void 0:l.map(r=>e.jsx(T,{user:r,handler:g,isAdded:t.includes(r._id)},r._id))}),e.jsxs(i,{direction:"row",justifyContent:"space-evenly",children:[e.jsx(c,{variant:"text",color:"error",size:"large",onClick:a,children:"Cancel"}),e.jsx(c,{variant:"contained",color:"primary",size:"large",onClick:v,disabled:j,children:"Create"})]})]})})};export{X as default};
