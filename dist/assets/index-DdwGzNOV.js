import{r as n}from"./index-BRYrtOYy.js";const b=e=>/^[a-zA-Z0-9]+$/.test(e),A=(e,m=5,a=10)=>{const h=e==="multiple"?[]:null,c=e==="multiple"?[]:null,[p,i]=n.useState(null),[g,l]=n.useState(h),[f,r]=n.useState(c);return{file:g,preview:f,error:p,changeHandler:t=>{if(t.target.files){if(e==="single"){const o=t.target.files[0];if(t.target.files.length>1)return i("Cannot upload more than 1 file, please select type as 'Multiple'");if(o.size>1024*1024*m)return i("File size too large");const s=new FileReader;s.readAsDataURL(o),s.onloadend=()=>{r(s.result)},l(o)}if(e==="multiple"){const o=Array.from(t.target.files);if(a&&o.length>a)return i(`Maximum ${a} files allowed`);for(const s of o){if(s.size>1024*1024*m){i("File size too large");return}const d=new FileReader;d.readAsDataURL(s),d.onloadend=()=>{r(y=>Array.isArray(y)?[...y,d.result]:[d.result])},l(y=>Array.isArray(y)?[...y,s]:[s])}}}}}},E=(e,m=()=>{})=>{const[a,h]=n.useState(e),[c,p]=n.useState("");return{value:a,changeHandler:g=>{let l;typeof a=="number"?l=Number(g.target.value):l=g.target.value,h(l);const f=m(l);p(f?f.errorMessage:"")},error:c}},S=(e,m,a,h,c,p=!1)=>{const[i,g]=n.useState([]),l=n.useRef(null),f=n.useCallback(()=>{l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{if(!e.current)return;const{scrollTop:r}=e.current;if(r===0){if(m===a)return;h(t=>t+1)}},200)},[m,a]);return n.useEffect(()=>{const r=e.current;return r&&r.addEventListener("scroll",f),()=>{r&&r.removeEventListener("scroll",f)}},[f,i]),n.useEffect(()=>{let r=0,u=0;e.current&&(r=e.current.scrollHeight,u=e.current.scrollTop),c&&g(t=>{const o=new Set(t.map(d=>d._id)),s=c==null?void 0:c.filter(d=>!o.has(d._id));return p?[...(Array.isArray(s)?[...s]:[s]).reverse(),...t]:[...s,...t]}),requestAnimationFrame(()=>{if(e.current){const t=u+e.current.scrollHeight-r;e.current.scrollTop=t}})},[c]),{data:i,setData:g}};n.memo(({size:e=10,color:m="black",styles:a,zoom:h="2",mode:c="normal"})=>{if(e<1||e>40)throw new Error("Size must be between 1 and 40");const p=n.useRef(),i=n.useRef({x:0,y:0}),g=n.useRef(!1),l=r=>{i.current={x:r.clientX,y:r.clientY};const t=r.target.getAttribute("data-firebolt-zoom");g.current=!!t},f=n.useCallback(()=>{let r=i.current.x,u=i.current.y;const t=p.current;t&&(Array.from(t).forEach((o,s)=>{o.style.left=`${r-12}px`,o.style.top=`${u-12}px`,o.x=r,o.y=u;const d=(t.length-s)/t.length;o.style.scale=d.toString();const y=t[s+1]||t[0];r+=(Number(y.x||0)-r)*.3,u+=(Number(y.y||0)-u)*.3,s===0&&g.current&&(o.style.scale=h)}),requestAnimationFrame(f))},[]);return n.useEffect(()=>(p.current=document.getElementsByClassName("6pp-firebolt-Cursor"),f(),window.addEventListener("mousemove",l),()=>{window.removeEventListener("mousemove",l)}),[]),n.createElement("div",{style:{zIndex:"10000",mixBlendMode:c,pointerEvents:"none"}},Array.from({length:e}).map((r,u)=>n.createElement("div",{className:"6pp-firebolt-Cursor",key:u,style:{position:"fixed",height:"24px",width:"24px",borderRadius:"50%",left:0,top:0,backgroundColor:m,userSelect:"none",pointerEvents:"none",transition:"scale 0.2s",...a}})))});export{A as a,S as b,b as i,E as u};
